<script type="text/javascript">
function switchFloor(){
  var button = document.getElementsByClassName('switchButton')[0].value;
  var floor1 = document.getElementsByClassName('Floor1')[0];
  var floor2 = document.getElementsByClassName('Floor2')[0];
  var switchButton = document.getElementsByClassName('switchButton')[0];
  var goBackButton = document.getElementsByClassName('goBackButton')[0].value;

  if(goBackButton == "side"){
    if(button=="first"){
      floor1.classList.add('hideIt');
      floor2.classList.add('showIt');
      floor2.style.transition = 1;
      switchButton.classList.add('Second');
      document.getElementsByClassName('switchButton')[0].value = "second";
      document.getElementsByClassName('switchButton')[0].innerHTML = "Esimesele";
    }
    else{
      floor1.classList.remove('hideIt');
      floor2.classList.remove('showIt');
      switchButton.classList.remove('Second');
       document.getElementsByClassName('switchButton')[0].value = "first";
       document.getElementsByClassName('switchButton')[0].innerHTML = "Teisele";
    }
  }
  else{
    if(button=="first"){
      switchButton.classList.add('Second');
      document.getElementsByClassName('switchButton')[0].value = "second";
      document.getElementsByClassName('switchButton')[0].innerHTML = "Esimesele";
      document.getElementById('topBackground').src='source/TOP/SECOND_TOP.png';
    }
    else{
      switchButton.classList.remove('Second');
      document.getElementsByClassName('switchButton')[0].value = "first";
      document.getElementsByClassName('switchButton')[0].innerHTML = "Teisele";
      document.getElementById('topBackground').src='source/TOP/FIRST_TOP.png';
    }
  }
}
function switchMap(act, block){
  var floor1 = document.getElementsByClassName('Floor1')[0];
  var floor2 = document.getElementsByClassName('Floor2')[0];
  var floor = document.getElementsByClassName('switchButton')[0].value;
  var sideView = document.getElementsByClassName('SideView')[0];
  var topView = document.getElementsByClassName('TopView')[0];
  var topBackground = document.getElementsByClassName('topBackground')[0];
  var switchButton = document.getElementsByClassName('switchButton')[0];
  var goBackButton = document.getElementsByClassName('goBackButton')[0];

  if(act=='onTop'){
    sideView.classList.remove('showIt');
    sideView.classList.add('hideIt');
    topView.classList.remove('hideIt');
    topView.classList.add('showIt');
    switchButton.classList.add('goUpper');
    goBackButton.classList.add('showIt');
    goBackButton.classList.remove('hideIt');

    if(floor=='first'){
      document.getElementById('topBackground').src='source/TOP/FIRST_TOP.png';
    }
    else{
      document.getElementById('topBackground').src='source/TOP/SECOND_TOP.png';
    }

    var hintBlock = block+"MarkUp";
    document.getElementsByClassName(hintBlock)[0].classList.add('hint');

    goBackButton.value = "top";
  }
  else{
    sideView.classList.add('showIt');
    sideView.classList.remove('hideIt');
    topView.classList.add('hideIt');
    topView.classList.remove('showIt');
    switchButton.classList.remove('goUpper');
    goBackButton.classList.add('hideIt');
    goBackButton.classList.remove('showIt');
    goBackButton.value = "side";

    if(floor=="second"){
      floor1.classList.add('hideIt');
      floor2.classList.add('showIt');
      floor2.style.transition = 1;
      switchButton.classList.add('Second');
      document.getElementsByClassName('switchButton')[0].value = "second";
      document.getElementsByClassName('switchButton')[0].innerHTML = "Esimesele";
    }
    else{
      floor1.classList.remove('hideIt');
      floor2.classList.remove('showIt');
      switchButton.classList.remove('Second');
       document.getElementsByClassName('switchButton')[0].value = "first";
       document.getElementsByClassName('switchButton')[0].innerHTML = "Teisele";
    }
  }
}
function clearBlocks(){
  document.getElementsByClassName('AMarkUp')[0].classList.remove('hint');
  document.getElementsByClassName('BMarkUp')[0].classList.remove('hint');
  document.getElementsByClassName('CMarkUp')[0].classList.remove('hint');
  document.getElementsByClassName('DMarkUp')[0].classList.remove('hint');
  document.getElementsByClassName('EMarkUp')[0].classList.remove('hint');
  document.getElementsByClassName('A2MarkUp')[0].classList.remove('hint');
  document.getElementsByClassName('B2MarkUp')[0].classList.remove('hint');
  document.getElementsByClassName('D2MarkUp')[0].classList.remove('hint');
}

</script>


<link rel="stylesheet" type="text/css" href="style.css">
<body>
  <div class="Map">
    <div class="SideView">
      <div class="Floor1">
        <img src="source/SIDE/FIRST_SIDE.png" alt="background" style="width: 100%;">
        <div class="Front">
          <img src="source/SIDE/DBACK.png" class="DBLOCK" onclick="switchMap('onTop', 'D');"/>
          <img src="source/SIDE/EBACK.png" class="EBLOCK" onclick="switchMap('onTop', 'E');"/>
          <img src="source/SIDE/CBACK.png" class="CBLOCK" onclick="switchMap('onTop', 'C');"/>
          <img src="source/SIDE/ABACK.png" class="ABLOCK" onclick="switchMap('onTop', 'A');"/>
          <img src="source/SIDE/BLOCK.png" class="BLOCK" onclick="switchMap('onTop', 'B');"/>
        </div>
      </div>
      <div class="Floor2">
        <img src="source/SIDE/SECOND_SIDE.png" alt="background" style="width: 100%;">
        <div class="Front">
          <img src="source/SIDE/DBACK.png" width="45%" class="DBLOCK2" onclick="switchMap('onTop', 'D2');"/>
          <img src="source/SIDE/ABACK.png" width="45%" class="ABLOCK2" onclick="switchMap('onTop', 'A2');"/>
          <img src="source/SIDE/BLOCK.png" width="45%" class="BLOCK2" onclick="switchMap('onTop', 'B2');"/>
        </div>
      </div>
    </div>
    <div class="TopView">
      <img src="" alt="background" class="topBackground" id="topBackground" width="100%">
      <div>
        <div class="AMarkUp"></div>
        <div class="BMarkUp"></div>
        <div class="CMarkUp"></div>
        <div class="DMarkUp"></div>
        <div class="EMarkUp"></div>

        <div class="A2MarkUp"></div>
        <div class="B2MarkUp"></div>
        <div class="D2MarkUp"></div>
      </div>
  </div>
  <div class="Buttons">
    <button onclick="switchMap('onSide'); clearBlocks();" class="goBackButton" value="side">Tagasi</button>
    <button onclick="switchFloor();" class="switchButton" value="first">Teisele</button>
  </div>
</body>
